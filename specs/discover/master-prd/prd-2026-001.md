# PRD: Network Circumvention Guide - Phase 1 Reorganization

**ID**: prd-2026-001
**Story**: story-2026-001
**Created**: 2026-02-16
**Author**: spec-analyst
**Status**: Draft
**Complexity**: L (Large)
**Priority**: P0 (Must-have)

---

## 1. Background & Goals

### 1.1 Background

The VuePress documentation blog at `quboqin.github.io/blog2021` contains comprehensive content about network circumvention technologies in the `docs/proxy/` directory. Currently, there are 13 markdown files totaling ~45,000 words covering protocols, self-hosting, OpenWRT configuration, PVE virtualization, home networking, client setup, and NAS solutions.

**Current Issues**:
- Content organization is inconsistent across files
- Some files have redundant or overlapping content (nas.md vs nas-guide.md, intranet.md vs nat-traversal.md)
- Navigation between related topics requires better cross-linking
- Some technical content needs updating to reflect 2026 best practices (Hysteria2, VLESS+Reality advancements)
- README.md lacks a comprehensive index structure

**Research Foundation**: This PRD is based on research-2026-001.md, which analyzed market trends, competitor documentation, and identified specific content gaps.

### 1.2 Business Goals

**Goal 1**: Improve Content Discoverability (Current: 60% ‚Üí Target: 95%)
- **Metric**: User can find any topic within 2 clicks from README.md
- **Timeframe**: By end of Phase 1
- **Owner**: Content architect

**Goal 2**: Update Technical Accuracy (Current: 85% ‚Üí Target: 98%)
- **Metric**: All protocols and configurations reflect 2026 specifications
- **Timeframe**: By end of Phase 1
- **Owner**: Technical writer

**Goal 3**: Enhance User Experience (Current: 70% NPS ‚Üí Target: 85% NPS)
- **Metric**: Clear navigation, consistent formatting, actionable steps
- **Timeframe**: By end of Phase 1
- **Owner**: Documentation lead

### 1.3 Scope

**In Scope (Phase 1)**:
- ‚úÖ Reorganize 13 existing markdown files into 9 clear topic chapters
- ‚úÖ Update protocol documentation with Hysteria2 and latest VLESS+Reality specs
- ‚úÖ Consolidate redundant files (merge nas.md + nas-guide.md)
- ‚úÖ Enhance README.md with comprehensive navigation index
- ‚úÖ Add cross-links between related topics
- ‚úÖ Validate and update all network topology diagrams
- ‚úÖ Add "Prerequisites" and "Next Steps" sections to each chapter
- ‚úÖ Standardize formatting and code block styles
- ‚úÖ Add legal disclaimers and safety warnings

**Out of Scope (Deferred to Phase 2/3)**:
- ‚ùå Troubleshooting sections (Phase 2)
- ‚ùå Security hardening deep dives (Phase 2)
- ‚ùå Automation scripts and Docker configs (Phase 3)
- ‚ùå Monitoring/observability guides (Phase 3)
- ‚ùå English translations (Future consideration)
- ‚ùå Interactive Mermaid diagrams (Future consideration)

**Non-Goals**:
- Creating new deployment automation tools
- Building interactive web components
- Providing commercial proxy service affiliations

---

## 2. Users & Scenarios

### 2.1 User Personas

**Persona 1: Network Beginner (Êñ∞ÊâãÁî®Êà∑)**
- **Characteristics**: Limited networking knowledge, first-time proxy user, wants simple solutions
- **Tech Level**: 2/10
- **Needs**: Clear explanations, step-by-step guides, safety warnings
- **Pain Points**: Overwhelmed by technical jargon, afraid of misconfiguration

**Persona 2: Home Lab Enthusiast (ÂÆ∂Â∫≠ÂÆûÈ™åÂÆ§Áà±Â•ΩËÄÖ)**
- **Characteristics**: Owns PVE server, comfortable with Linux, builds custom solutions
- **Tech Level**: 7/10
- **Needs**: Architecture diagrams, advanced configurations, optimization tips
- **Pain Points**: Fragmented documentation, outdated examples

**Persona 3: Network Administrator (ÁΩëÁªúÁÆ°ÁêÜÂëò)**
- **Characteristics**: Professional IT background, manages multiple sites, security-conscious
- **Tech Level**: 9/10
- **Needs**: Protocol specifications, security best practices, scaling strategies
- **Pain Points**: Lack of comprehensive reference, no official documentation

### 2.2 User Scenarios

**Scenario 1: First-Time User Wants to Understand Options**
```
GIVEN: User has heard about "ÁßëÂ≠¶‰∏äÁΩë" but doesn't know how it works
WHEN: User arrives at the proxy guide README
THEN: User should see a clear introduction explaining:
  - What network circumvention is
  - Overview of 9 main topics
  - Recommended reading path for beginners
  - Quick start guide vs comprehensive guide options
```

**Scenario 2: User Wants to Self-Host a Proxy Server**
```
GIVEN: User has a VPS and wants to deploy their own proxy
WHEN: User navigates to self-hosted server documentation
THEN: User should find:
  - Protocol comparison table (which to choose)
  - Step-by-step VPS setup guide
  - Configuration examples with latest 2026 specs
  - Links to client configuration
  - Troubleshooting resources
```

**Scenario 3: User Wants to Set Up PVE + OpenWRT Home Network**
```
GIVEN: User has PVE server and wants OpenWRT as bypass router
WHEN: User follows the PVE and OpenWRT guides
THEN: User should find:
  - Clear network topology diagram
  - Prerequisites (hardware, network setup)
  - Step-by-step installation for PVE
  - Step-by-step installation for OpenWRT VM
  - Network configuration for bypass router mode
  - Verification steps
  - Link to client configuration guide
```

**Scenario 4: User Wants to Compare Protocols**
```
GIVEN: User knows they need a proxy but unsure which protocol to use
WHEN: User reads the protocol comparison documentation
THEN: User should find:
  - OSI layer comparison table
  - Performance benchmarks (latency, speed, stealth)
  - 2026 recommendations by use case
  - Configuration complexity assessment
  - Links to setup guides for each protocol
```

**Scenario 5: User Wants to Set Up Home NAS**
```
GIVEN: User wants to combine proxy setup with NAS solution
WHEN: User navigates to NAS documentation
THEN: User should find:
  - Unified nas.md guide (merged content)
  - System comparison (Synology, TrueNAS, OMV)
  - Integration with PVE setup
  - Cross-links to network topology
  - Hardware recommendations
```

---

## 3. Functional Requirements

### F001: README.md Navigation Index (P0)

**Description**: Transform README.md into a comprehensive navigation hub for all proxy-related documentation.

**Requirements**:
- **F001.1**: Add hero section with brief introduction to network circumvention
- **F001.2**: Create visual navigation grid for 9 main topics:
  1. Protocol Comparison (ÂçèËÆÆÂØπÊØî)
  2. Proxy Service Recommendations (Êú∫Âú∫Êé®Ëçê)
  3. Self-Hosted Server Setup (Ëá™Âª∫ÊúçÂä°Âô®)
  4. OpenWRT Compilation & Configuration (OpenWRTÁºñËØëÈÖçÁΩÆ)
  5. PVE Server Setup (PVEËôöÊãüÂåñÈÖçÁΩÆ)
  6. Home Network Topology (ÂÆ∂Â∫≠ÁΩëÁªúÊãìÊâë)
  7. Client Configuration (ÂÆ¢Êà∑Á´ØËÆæÁΩÆ)
  8. Intranet Penetration (ÂÜÖÁΩëÁ©øÈÄè)
  9. Home NAS Solutions (ÂÆ∂Â∫≠NASÊñπÊ°à)
- **F001.3**: Add "Quick Start" vs "Comprehensive Guide" pathways
- **F001.4**: Include last updated date and version info
- **F001.5**: Add legal disclaimer section

**Acceptance Criteria**: AC001, AC002

---

### F002: Protocol Documentation Update (P0)

**Description**: Update protocols.md with 2026 specifications, add Hysteria2 coverage, and enhance comparison matrices.

**Requirements**:
- **F002.1**: Update VLESS+Reality section with Vision flow control details
- **F002.2**: Add Hysteria2 protocol section:
  - Technical overview
  - Use cases (gaming, 4K streaming)
  - Configuration examples
  - Performance characteristics
- **F002.3**: Update protocol comparison table with 2026 benchmarks
- **F002.4**: Add OSI layer comparison diagram
- **F002.5**: Include protocol selection decision tree
- **F002.6**: Update VPN vs Proxy comparison section
- **F002.7**: Add deprecation warnings for outdated protocols (Shadowsocks-legacy)

**Acceptance Criteria**: AC003, AC004, AC005

---

### F003: Content Consolidation (P0)

**Description**: Merge redundant files and reorganize content structure.

**Requirements**:
- **F003.1**: Merge nas.md and nas-guide.md into single unified guide
  - Retain system comparison table
  - Integrate setup instructions
  - Add cross-references to PVE setup
- **F003.2**: Evaluate nat-traversal.md vs intranet.md for overlap
  - Consolidate if redundant
  - Or clarify distinct focus if both needed
- **F003.3**: Ensure self-hosted.md and vps-setup.md are complementary
  - self-hosted.md = overview and decision guide
  - vps-setup.md = detailed step-by-step procedures
- **F003.4**: Remove or archive deprecated content

**Acceptance Criteria**: AC006, AC007

---

### F004: Cross-Linking Enhancement (P0)

**Description**: Add navigational links between related topics to improve discoverability.

**Requirements**:
- **F004.1**: Add "Prerequisites" section at top of each document
  - Example: PVE setup requires understanding network topology
- **F004.2**: Add "Related Topics" section at bottom of each document
  - Example: Client configuration links to protocol docs
- **F004.3**: Add "Next Steps" section suggesting logical progression
  - Example: After OpenWRT setup ‚Üí Client configuration
- **F004.4**: Use relative path links (e.g., `[Protocol Comparison](./protocols.md)`)
- **F004.5**: Validate all internal links are not broken

**Acceptance Criteria**: AC008, AC009

---

### F005: Network Topology Diagram Validation (P0)

**Description**: Review, update, and standardize all network topology diagrams.

**Requirements**:
- **F005.1**: Validate accuracy of existing diagrams in network-topology.md
- **F005.2**: Ensure consistency in diagram format (ASCII art or Mermaid)
- **F005.3**: Add missing diagrams:
  - Main router mode with PVE
  - Bypass router mode with PVE
  - Multi-VLAN setup (if applicable)
- **F005.4**: Include IP addressing schemes in all diagrams
- **F005.5**: Add legends explaining symbols/notation

**Acceptance Criteria**: AC010, AC011

---

### F006: Formatting Standardization (P0)

**Description**: Apply consistent markdown formatting across all documents.

**Requirements**:
- **F006.1**: Standardize heading hierarchy (H1 for title, H2 for sections, H3 for subsections)
- **F006.2**: Use consistent code block language tags:
  ```bash
  # Shell commands
  ```
  ```yaml
  # Configuration files
  ```
  ```plaintext
  # Output/logs
  ```
- **F006.3**: Standardize table formatting (use consistent column widths)
- **F006.4**: Use callout blocks for warnings and notes:
  ```markdown
  > **‚ö†Ô∏è Warning**: Important safety information
  > **üí° Tip**: Helpful hint
  > **üìù Note**: Additional information
  ```
- **F006.5**: Ensure all Chinese text uses proper punctuation (‰∏≠ÊñáÊ†áÁÇπ)
- **F006.6**: English technical terms use backticks for emphasis

**Acceptance Criteria**: AC012, AC013

---

### F007: Safety and Legal Disclaimers (P0)

**Description**: Add appropriate warnings and legal information.

**Requirements**:
- **F007.1**: Add legal disclaimer in README.md:
  - Educational purpose statement
  - User responsibility for legal compliance
  - No endorsement of illegal activities
- **F007.2**: Add safety warnings in airports.md:
  - Risk assessment for proxy services
  - Privacy considerations
  - No specific service endorsements (neutral education)
- **F007.3**: Add security warnings in self-hosted.md:
  - Server hardening reminders
  - Firewall configuration importance
  - Password/key management
- **F007.4**: Include jurisdiction considerations

**Acceptance Criteria**: AC014

---

### F008: Airport Recommendations Enhancement (P1)

**Description**: Improve airports.md with better comparison framework and safety guidelines.

**Requirements**:
- **F008.1**: Add evaluation criteria matrix:
  - Price range
  - Protocol support
  - Server locations
  - Bandwidth/speed tier
  - Reliability/uptime
  - User reviews (if available)
- **F008.2**: Add "How to Choose" decision guide
- **F008.3**: Include red flags to watch for (scams, data harvesting)
- **F008.4**: Update with 2026 service landscape

**Acceptance Criteria**: AC015

---

### F009: Client Configuration Troubleshooting (P1)

**Description**: Add basic troubleshooting section to clients.md.

**Requirements**:
- **F009.1**: Add "Common Issues" subsection for each platform:
  - Connection failures
  - DNS leaks
  - Performance degradation
- **F009.2**: Include diagnostic commands for each platform
- **F009.3**: Provide links to official client documentation

**Acceptance Criteria**: AC016

---

### F010: VuePress Configuration Updates (P2)

**Description**: Update VuePress config if needed for better proxy documentation navigation.

**Requirements**:
- **F010.1**: Evaluate if `docs/.vuepress/config.js` nav needs updating
- **F010.2**: Ensure `/proxy/` route is prominently featured
- **F010.3**: Consider adding sidebar navigation for proxy section
- **F010.4**: Maintain compatibility with VuePress v1.8.2

**Acceptance Criteria**: AC017

---

## 4. Non-Functional Requirements

### NFR001: Compatibility

- **NFR001.1**: All markdown must render correctly in VuePress v1.8.2
- **NFR001.2**: Code blocks must use supported language tags
- **NFR001.3**: Relative links must work in VuePress routing
- **NFR001.4**: No breaking changes to existing URL structure (maintain SEO)

### NFR002: Accessibility

- **NFR002.1**: Use semantic heading hierarchy (no heading level skips)
- **NFR002.2**: Alt text for any images/diagrams (if converted from ASCII)
- **NFR002.3**: Descriptive link text (avoid "click here")

### NFR003: Maintainability

- **NFR003.1**: Each document should have "Last Updated" date in frontmatter
- **NFR003.2**: Complex configurations should have inline comments
- **NFR003.3**: External links should be documented (avoid link rot)

### NFR004: Performance

- **NFR004.1**: Individual markdown files should not exceed 1000 lines (split if needed)
- **NFR004.2**: Minimize embedded images (prefer ASCII diagrams or Mermaid)

### NFR005: Internationalization (i18n)

- **NFR005.1**: Primary content in Chinese (‰∏≠Êñá)
- **NFR005.2**: Technical terms in English (with Chinese translation on first use)
- **NFR005.3**: Code examples and commands in English
- **NFR005.4**: Leave hooks for future English translation (future phase)

---

## 5. Acceptance Criteria

### AC001: README.md Navigation (F001)
**Criteria**:
- [ ] README.md contains hero section introducing network circumvention
- [ ] All 9 topics listed with brief descriptions
- [ ] Links to each topic work and route correctly
- [ ] Quick Start vs Comprehensive Guide pathways are clear
- [ ] Last updated date is present

**Verification**: Manual review + link checking

---

### AC002: Legal Disclaimer Present (F001, F007)
**Criteria**:
- [ ] Legal disclaimer section exists in README.md
- [ ] Disclaimer covers educational use, user responsibility, no illegal activity endorsement
- [ ] Disclaimer is clearly visible (top or bottom of README)

**Verification**: Manual review

---

### AC003: Hysteria2 Documentation Added (F002)
**Criteria**:
- [ ] Hysteria2 section exists in protocols.md
- [ ] Section includes: technical overview, use cases, configuration example
- [ ] Performance characteristics documented (latency 110-150ms, gaming/streaming optimized)

**Verification**: Manual review + technical accuracy check

---

### AC004: VLESS+Reality Updated (F002)
**Criteria**:
- [ ] VLESS+Reality section reflects 2026 specifications
- [ ] Vision flow control mentioned and explained
- [ ] Configuration examples are current
- [ ] Anti-blocking rating updated (9/10)

**Verification**: Manual review + compare against official V2Ray docs

---

### AC005: Protocol Comparison Table Updated (F002)
**Criteria**:
- [ ] Protocol comparison table includes 2026 benchmark data
- [ ] Table includes: VLESS+Reality, Trojan, Hysteria2, Shadowsocks-2022, VPN
- [ ] Metrics included: Stealth, Speed, Complexity, Best For, 2026 Status
- [ ] OSI layer comparison present

**Verification**: Manual review

---

### AC006: NAS Files Merged (F003)
**Criteria**:
- [ ] Single unified NAS guide exists (merged nas.md + nas-guide.md)
- [ ] Content from both original files is preserved (no data loss)
- [ ] Duplicate content is removed
- [ ] Cross-references to PVE setup are present
- [ ] Old files are removed or archived

**Verification**: File comparison + manual review

---

### AC007: Redundant Content Eliminated (F003)
**Criteria**:
- [ ] nat-traversal.md evaluated against intranet.md
- [ ] Either consolidated or distinct focus clarified
- [ ] No contradictory information between files
- [ ] Self-hosted.md and vps-setup.md have clear, complementary roles

**Verification**: Manual content review

---

### AC008: Cross-Links Added (F004)
**Criteria**:
- [ ] Every document has "Prerequisites" section (if applicable)
- [ ] Every document has "Related Topics" section
- [ ] Every document has "Next Steps" section
- [ ] Minimum 3 cross-links per document (on average)

**Verification**: Automated link count + manual review

---

### AC009: No Broken Internal Links (F004)
**Criteria**:
- [ ] All internal markdown links resolve correctly
- [ ] Link checker reports 0 broken internal links
- [ ] Relative paths used correctly (e.g., `./protocols.md`)

**Verification**: Automated link checker (markdown-link-check or similar)

---

### AC010: Network Topology Diagrams Validated (F005)
**Criteria**:
- [ ] All existing diagrams reviewed for technical accuracy
- [ ] Minimum 3 diagrams present: main router mode, bypass router mode, PVE architecture
- [ ] All diagrams include IP addressing schemes
- [ ] Legends/notation explanations present

**Verification**: Manual review by network expert

---

### AC011: Diagram Consistency (F005)
**Criteria**:
- [ ] All diagrams use consistent format (ASCII art or Mermaid)
- [ ] Box drawing characters consistent across diagrams
- [ ] Same symbols represent same entities (e.g., PVE host always shown same way)

**Verification**: Manual visual comparison

---

### AC012: Heading Hierarchy Correct (F006)
**Criteria**:
- [ ] All documents use H1 for title only
- [ ] No heading level skips (H2 ‚Üí H4 without H3)
- [ ] Heading structure is logical and semantic

**Verification**: Automated markdown linter

---

### AC013: Code Block Language Tags (F006)
**Criteria**:
- [ ] All code blocks specify language (bash, yaml, json, plaintext)
- [ ] No bare triple-backtick blocks without language
- [ ] Language tags are lowercase and consistent

**Verification**: Automated grep/search for ` ``` ` without language tag

---

### AC014: Safety Warnings Present (F007)
**Criteria**:
- [ ] airports.md contains privacy and security warnings
- [ ] self-hosted.md contains server hardening warnings
- [ ] Warnings use prominent formatting (callout blocks or bold)

**Verification**: Manual review

---

### AC015: Airport Comparison Matrix (F008)
**Criteria**:
- [ ] airports.md includes evaluation criteria matrix
- [ ] Matrix includes: price, protocols, locations, speed, reliability
- [ ] "How to Choose" decision guide present
- [ ] Red flags section lists warning signs

**Verification**: Manual review

---

### AC016: Client Troubleshooting Sections (F009)
**Criteria**:
- [ ] clients.md includes "Common Issues" for Windows, macOS, iOS, Android
- [ ] At least 3 common issues per platform
- [ ] Diagnostic commands provided

**Verification**: Manual review

---

### AC017: VuePress Configuration Validated (F010)
**Criteria**:
- [ ] VuePress nav includes proxy section
- [ ] All proxy pages render without errors
- [ ] No console errors when navigating proxy docs
- [ ] Build succeeds with `npm run docs:build`

**Verification**: Build test + manual navigation test

---

## 6. User Experience & UI

### 6.1 Content Flow

**Recommended Reading Path for Beginners**:
1. Start: README.md (orientation)
2. Understand: protocols.md (learn options)
3. Decide: airports.md OR self-hosted.md (choose approach)
4. If self-hosted:
   - vps-setup.md (deploy server)
   - clients.md (configure devices)
5. If advanced home network:
   - network-topology.md (understand architecture)
   - pve-setup.md (virtualization platform)
   - openwrt-build.md (router firmware)
   - clients.md (configure devices)
6. Optional enhancements:
   - intranet.md (remote access)
   - nas.md (storage solution)

### 6.2 Visual Style

- Use consistent emoji icons for callouts:
  - ‚ö†Ô∏è Warning
  - üí° Tip
  - üìù Note
  - ‚úÖ Success indicator
  - ‚ùå Error indicator
  - üîß Configuration step

- Use tables for comparison matrices
- Use ASCII art for network diagrams (Mermaid as future enhancement)
- Use numbered lists for step-by-step procedures
- Use bullet lists for feature lists or options

---

## 7. Timeline & Milestones

### Phase 1 Schedule (L Tier: 1-2 days)

| Milestone | Activities | Owner | Duration | Target Date |
|-----------|-----------|-------|----------|-------------|
| **M1: PRD Approval** | PRD review, stakeholder sign-off | spec-analyst | 0.5 day | 2026-02-16 |
| **M2: Design Complete** | Architecture design, file structure plan | architect | 0.5 day | 2026-02-17 |
| **M3: Content Reorganization** | Merge files, update structure, add navigation | developer | 1 day | 2026-02-18 |
| **M4: Content Update** | Protocol updates, diagram validation | developer | 0.5 day | 2026-02-19 |
| **M5: QA & Polish** | Link checking, formatting, proofreading | reviewer | 0.5 day | 2026-02-19 |
| **M6: Deployment** | Build, test, deploy to GitHub Pages | devops | 0.25 day | 2026-02-19 |

**Total Estimated Duration**: 1.5-2 days

### Dependency Chain

```
M1 (PRD Approval)
  ‚Üì
M2 (Design)
  ‚Üì
M3 (Content Reorg) ‚Üê‚îê
  ‚Üì                  ‚îÇ
M4 (Content Update)  ‚îÇ
  ‚Üì                  ‚îÇ
M5 (QA & Polish) ‚Üê‚îÄ‚îÄ‚îò
  ‚Üì
M6 (Deployment)
```

---

## 8. Risks & Dependencies

### 8.1 Risks

| Risk ID | Risk Description | Likelihood | Impact | Mitigation Strategy |
|---------|-----------------|-----------|--------|---------------------|
| R001 | Content accuracy degrades quickly as protocols evolve | High | Medium | Add "Last Updated" dates, version tags; plan quarterly review cycle |
| R002 | Legal issues from proxy service recommendations | Medium | High | Use generic educational approach, add disclaimers, no affiliate links |
| R003 | User misconfiguration leads to security vulnerability | Medium | High | Add warning callouts, security checklist, emphasize testing |
| R004 | Link rot from external references | High | Low | Prefer official documentation, use archive.org, regular link checks |
| R005 | VuePress v1 compatibility issues with markdown extensions | Low | Medium | Test all markdown features during QA; maintain vanilla markdown |
| R006 | Time estimate overrun due to content volume | Medium | Low | Prioritize P0 features, defer P1/P2 if needed |
| R007 | Merge conflicts during file consolidation | Low | Low | Use feature branches, careful diff review |

### 8.2 Dependencies

| Dependency ID | Description | Owner | Status | Blocker For |
|--------------|-------------|-------|--------|-------------|
| D001 | VuePress v1.8.2 build environment functional | devops | ‚úÖ Complete | All features |
| D002 | Access to research-2026-001.md for context | spec-analyst | ‚úÖ Complete | F002, F003 |
| D003 | Understanding of V2Ray/VLESS 2026 specs | architect | ‚è≥ In Progress | F002 |
| D004 | Markdown link checker tool available | devops | ‚è≥ Needed | AC009 |
| D005 | Network topology review by SME | architect | ‚è≥ Needed | AC010 |

### 8.3 External Dependencies

- **V2Ray Official Documentation**: https://www.v2fly.org/ (protocol specs)
- **OpenWRT Wiki**: https://openwrt.org/docs/ (firmware docs)
- **Proxmox Documentation**: https://pve.proxmox.com/wiki/ (virtualization)

### 8.4 Assumptions

- Users have basic Linux command line familiarity (for advanced guides)
- Users understand networking basics (IP addressing, DHCP, DNS)
- Users can access GitHub Pages deployment
- VuePress v1 remains viable for next 6-12 months

---

## 9. Success Metrics (Post-Launch)

### 9.1 Quantitative Metrics

| Metric | Baseline | Target | Measurement Method |
|--------|---------|--------|-------------------|
| Content discoverability | 60% (est.) | 95% | User can find any topic in ‚â§2 clicks |
| Technical accuracy | 85% (est.) | 98% | Peer review against official docs |
| Broken link count | Unknown | 0 | Automated link checker |
| Documentation completeness | 80% (est.) | 100% | All 9 topics have dedicated files |
| Average time to find information | Unknown | <2 min | User testing (future) |

### 9.2 Qualitative Metrics

- [ ] Navigation is intuitive (user testing feedback)
- [ ] Content is actionable (can follow steps without confusion)
- [ ] Consistent tone and formatting throughout
- [ ] Diagrams are clear and technically accurate
- [ ] Cross-links enhance (not distract) reading experience

### 9.3 Acceptance Gate

**Phase 1 Complete When**:
- [ ] All P0 acceptance criteria (AC001-AC014, AC017) pass
- [ ] P1 criteria (AC015, AC016) pass OR explicitly deferred with justification
- [ ] No critical bugs in documentation (factually incorrect information)
- [ ] VuePress build succeeds without errors
- [ ] Peer review sign-off from technical SME

---

## 10. Open Questions & Decisions Needed

### Q1: Scope Clarification
**Question**: Should we defer airport recommendation updates (F008) and client troubleshooting (F009) to Phase 2, or include as P1 in Phase 1?

**Options**:
- A) Include in Phase 1 (adds ~0.5 day)
- B) Defer to Phase 2 (reduces scope)

**Recommendation**: Option A (include) - these are relatively low effort and high user value

**Decision**: [Pending stakeholder input]

---

### Q2: Diagram Format
**Question**: Should we use ASCII art (current), Mermaid diagrams, or hybrid approach?

**Options**:
- A) Keep ASCII art (compatible, simple)
- B) Convert to Mermaid (interactive, modern, but requires VuePress plugin)
- C) Hybrid (ASCII for simple, Mermaid for complex)

**Recommendation**: Option A for Phase 1 (maintain compatibility), re-evaluate Mermaid in Phase 2

**Decision**: [Pending architect input]

---

### Q3: Version Control for Documentation
**Question**: Should we implement version tags or changelog for the documentation itself?

**Options**:
- A) Add version number to README (e.g., "v2.0 - 2026-02")
- B) Create CHANGELOG.md tracking major updates
- C) Just use git commit history

**Recommendation**: Option A (simple version indicator) + Option C (git history)

**Decision**: [Pending stakeholder input]

---

### Q4: English Translation
**Question**: Should we plan for bilingual documentation (Chinese/English)?

**Options**:
- A) Chinese only (current)
- B) Add English in Phase 2
- C) Use VuePress i18n plugin for multi-language

**Recommendation**: Option A for now, revisit in Phase 3 based on user demand

**Decision**: [Pending stakeholder input]

---

## 11. Appendices

### Appendix A: File Reorganization Plan

**Before (13 files)**:
```
docs/proxy/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ protocols.md
‚îú‚îÄ‚îÄ airports.md
‚îú‚îÄ‚îÄ self-hosted.md
‚îú‚îÄ‚îÄ vps-setup.md
‚îú‚îÄ‚îÄ openwrt-build.md
‚îú‚îÄ‚îÄ pve-setup.md
‚îú‚îÄ‚îÄ network-topology.md
‚îú‚îÄ‚îÄ clients.md
‚îú‚îÄ‚îÄ intranet.md
‚îú‚îÄ‚îÄ nat-traversal.md
‚îú‚îÄ‚îÄ nas.md
‚îî‚îÄ‚îÄ nas-guide.md
```

**After (10 files, tentative)**:
```
docs/proxy/
‚îú‚îÄ‚îÄ README.md              [Enhanced navigation]
‚îú‚îÄ‚îÄ protocols.md           [Updated with Hysteria2, VLESS+Reality]
‚îú‚îÄ‚îÄ airports.md            [Enhanced comparison matrix]
‚îú‚îÄ‚îÄ self-hosted.md         [Overview/decision guide]
‚îú‚îÄ‚îÄ vps-setup.md          [Detailed setup steps]
‚îú‚îÄ‚îÄ openwrt-build.md      [Compilation and config]
‚îú‚îÄ‚îÄ pve-setup.md          [PVE configuration]
‚îú‚îÄ‚îÄ network-topology.md    [Validated diagrams]
‚îú‚îÄ‚îÄ clients.md            [Client setup + basic troubleshooting]
‚îú‚îÄ‚îÄ intranet.md           [Unified penetration guide]
‚îî‚îÄ‚îÄ nas.md                [Merged NAS guide]
```

**Removed/Consolidated**:
- nat-traversal.md ‚Üí merged into intranet.md
- nas-guide.md ‚Üí merged into nas.md

### Appendix B: Cross-Reference Matrix

| Document | Prerequisites | Related Topics | Next Steps |
|----------|--------------|----------------|------------|
| README.md | None | All topics | Choose path: protocols.md |
| protocols.md | Networking basics | self-hosted.md, airports.md | Decide: VPS or airport |
| airports.md | protocols.md | clients.md | Setup clients |
| self-hosted.md | protocols.md | vps-setup.md | Deploy server |
| vps-setup.md | self-hosted.md | clients.md | Configure clients |
| openwrt-build.md | network-topology.md, pve-setup.md | clients.md | Client setup |
| pve-setup.md | network-topology.md | openwrt-build.md | Install OpenWRT |
| network-topology.md | Networking basics | pve-setup.md, openwrt-build.md | Choose topology |
| clients.md | protocols.md, vps-setup.md OR airports.md | troubleshooting (Phase 2) | Test and verify |
| intranet.md | clients.md, network-topology.md | nas.md | Remote access setup |
| nas.md | pve-setup.md, network-topology.md | intranet.md | NAS deployment |

### Appendix C: Technical Reference URLs

- **V2Ray Project**: https://github.com/v2fly/v2ray-core
- **V2Ray Documentation**: https://www.v2fly.org/
- **Xray Project (Reality)**: https://github.com/XTLS/Xray-core
- **Hysteria2**: https://v2.hysteria.network/
- **Trojan-Go**: https://github.com/p4gefau1t/trojan-go
- **OpenWRT**: https://openwrt.org/
- **Proxmox VE**: https://www.proxmox.com/
- **WireGuard**: https://www.wireguard.com/

### Appendix D: Glossary

- **ÁßëÂ≠¶‰∏äÁΩë**: Network circumvention (literal: "scientific internet access")
- **Êú∫Âú∫**: Proxy service provider (literal: "airport", slang term)
- **ÊóÅË∑ØÁî±**: Bypass router (secondary router for selective proxying)
- **‰∏ªË∑ØÁî±**: Main router (primary gateway)
- **PVE**: Proxmox Virtual Environment (virtualization platform)
- **VPS**: Virtual Private Server
- **OSI Model**: Open Systems Interconnection model (networking layers)
- **VLESS**: Lightweight V2Ray protocol
- **Reality**: Anti-detection protocol using genuine TLS certificates
- **Hysteria**: UDP-based high-performance proxy protocol

---

## Document Control

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 0.1 | 2026-02-16 | spec-analyst | Initial draft |
| 1.0 | [Pending] | spec-analyst | Approved version |

**Status**: ‚úÖ Draft Complete - Awaiting Review
**Next Action**: Submit for stakeholder review and approval (M1)
**Reviewer**: architect, developer (technical review)
**Approver**: Product owner (scope approval)

---

**End of PRD**
